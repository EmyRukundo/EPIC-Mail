{"version":3,"sources":["message.js"],"names":["process","env","NODE_ENV","chai","should","use","chaiHttp","describe","it","request","app","get","end","err","res","have","status","body","be","a","newMessage","id","createdOn","subject","message","senderId","receiverId","parentMessageId","post","send","error","delete"],"mappings":"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","file":"message.js","sourceRoot":"C:/Users/Admin/Desktop/mail/EPIC-Mail/server/test","sourcesContent":["import chai from 'chai';\r\nimport chaiHttp from 'chai-http';\r\nimport app from '../../app.js';\r\n\r\n\r\nprocess.env.NODE_ENV = 'test';\r\n\r\nchai.should();\r\nchai.use(chaiHttp);\r\n\r\n\r\n  describe('Get All messages', () => {\r\n    it('Should get all emails randomly', () => {\r\n      chai.request(app).get('/api/v1/messages').end((err, res) => {\r\n        res.should.have.status(200);\r\n\r\n        \r\n      });\r\n    });\r\n  });\r\n\r\n\r\n  describe('Get a specific email',()=>{\r\n    it('Should get a specific email',()=>{\r\n      chai.request(app).get('/api/v1/messages/1').end((err,res) =>{\r\n        res.should.have.status(200);\r\n        res.body.should.be.a('object');\r\n      });\r\n    });\r\n  });\r\n\r\ndescribe('GET UNREAD MESSAGE',()=>{\r\n  it('should get unread email',()=>{\r\n    chai.request(app).get('/api/v1/message/unread').end((err,res) =>{\r\n      res.should.have.status(200);\r\n      res.body.should.be.a('object');\r\n    });\r\n  });\r\n});\r\n\r\ndescribe('GET SENT MESSAGE',()=>{\r\n  it('should get sent email',()=>{\r\n    chai.request(app).get('/api/v1/message/sent').end((err,res) =>{\r\n      res.should.have.status(200);\r\n      res.body.should.be.a('object');\r\n    });\r\n  });\r\n});\r\n\r\n\r\n  describe('POST, CREATE NEW MESSAGE', () => {\r\n    it('Should Create  a new Email', () => {\r\n      const newMessage = {\r\n        id:1,\r\n        createdOn:'26/02/2019​',\r\n        subject:'greetings',\r\n        message:'How is everything going brother',\r\n        senderId:2, receiverId:2, \r\n        parentMessageId:2,\r\n         status:'sent'\r\n\r\n      };\r\n      chai.request(app).post('/api/v1/messages').send(newMessage).end((err, res) => {\r\n        try {\r\n          res.should.have.status(200);\r\n          res.body.should.be.a('object');\r\n          \r\n        } catch (error) {\r\n          throw error;\r\n        }\r\n      });\r\n    });\r\n  });\r\n\r\n  describe('USER CAN DELETE MESSAGE', () => {\r\n    it('should delete an email', () => {\r\n      chai.request(app).delete('/api/v1/messages/2').end((err, res) => {\r\n\r\n        res.should.have.status(200);\r\n        res.body.should.be.a('object');\r\n\r\n      });\r\n    });\r\n  });"]}